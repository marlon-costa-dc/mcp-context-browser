schema: "rule/v1"
id: "QUAL001"
name: "No Unwrap in Production"
category: "quality"
severity: "error"
enabled: true
engine: "rust-rule-engine"

description: "Production code should not use .unwrap()"
rationale: "Unwrap can cause panics; use ? operator or proper error handling"

config:
  allow_in_tests: true
  allow_in_examples: false
  custom_exclusions: []

rule: |
  rule NoUnwrapCheck "Avoid unwrap() in production" {
      when
          AST.MethodCall(name == "unwrap") &&
          !TestFunction() &&
          !ExampleFunction()
      then
          Violation("Avoid .unwrap() in production code");
  }